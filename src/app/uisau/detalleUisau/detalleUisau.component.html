<div class="d-flex-desktop">
  <section class="search-container rounded col-md-3 svg-container" [ngClass]="{'femenino': consulta?.sexo === 'F', 'masculino': consulta?.sexo !== 'F'}">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <backIcon (click)="regresar()" />
      <button class="btn btn-outline-light btn-sm p-1">
        <i class="bi bi-pencil-square"></i>
      </button>
      <p class="mb-0 fw-bold">{{ consulta?.id }}</p>
      <newIcon class="btn search-btn" [routerLink]="['/formUisau/new/', consulta?.id]" />

    </div>

    <!-- Información del paciente -->
    <button class="btn btn-primary d-md-none mb-2" (click)="mostrarInfo = !mostrarInfo">
      {{ mostrarInfo ? 'Ocultar Información' : 'Mostrar Información' }}
    </button>

    <div class="row row-cols-2 g-1" *ngIf="mostrarInfo || isDesktop">
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Expediente</p>
        <p class="mb-0 text-muted">{{ consulta?.expediente }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Hoja Emergencia</p>
        <p class="mb-0 text-muted">{{ consulta?.hoja_emergencia }}</p>
      </div>
      <div class="col-12 border-bottom pb-1">
        <p class="fw-bold mb-1">Nombre del paciente</p>
        <p class="mb-0 text-muted">{{ consulta?.nombres | capitalizeName }} {{ consulta?.apellidos | capitalizeName }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Sexo</p>
        <p class="mb-0 text-muted">{{ consulta?.sexo | sexo }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Nacimiento</p>
        <p class="mb-0 text-muted">{{ consulta?.nacimiento | formatoFecha }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Edad</p>
        <p class="mb-0 text-muted">{{ consulta?.nacimiento | edad }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Ocupación</p>
        <p class="mb-0 text-muted">{{ paciente?.ocupacion }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Nivel Académico</p>
        <p class="mb-0 text-muted">{{ paciente?.educacion | enumEducacion }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Estado Civil</p>
        <p class="mb-0 text-muted">{{ paciente?.estado_civil | enumCivil }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Nacionalidad</p>
        <p class="mb-0 text-muted">{{ paciente?.nacionalidad | anyToNumber | enumNacion }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Teléfono</p>
        <p class="mb-0 text-muted">{{ paciente?.telefono }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Teléfono Familiar</p>
        <p class="mb-0 text-muted">{{ paciente?.telefono_responsable }}</p>
      </div>
      <div class="col-12 text-center fw-bold border-bottom pb-1">- Datos de Contacto -</div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Padre</p>
        <p class="mb-0 text-muted">{{ paciente?.padre | anyToText | capitalizeName }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Madre</p>
        <p class="mb-0 text-muted">{{ paciente?.madre | anyToText | capitalizeName }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Responsable</p>
        <p class="mb-0 text-muted">{{ paciente?.responsable | anyToText | capitalizeName }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Parentesco</p>
        <p class="mb-0 text-muted">{{ paciente?.parentesco | enumParentesco }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Fecha Consulta</p>
        <p class="mb-0 text-muted">{{ consulta?.fecha_consulta | formatoFecha }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Tipo Consulta</p>
        <p class="mb-0 text-muted">{{ consulta?.tipo_consulta | enumTipo }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Especialidad</p>
        <p class="mb-0 text-muted">{{ consulta?.especialidad | enumEspecialidad }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Servicio</p>
        <p class="mb-0 text-muted">{{ consulta?.servicio | enumEspecialidad }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Creado por</p>
        <p class="mb-0 text-muted">{{ consulta?.created_by }}</p>
      </div>
      <div class="col border-bottom pb-1">
        <p class="fw-bold mb-1">Creado</p>
        <p class="mb-0 text-muted">{{ consulta?.created_at }}</p>
      </div>




    </div>

  </section>
  <section class="search-container rounded-b-full col-md-9 svg-container" >
    <div *ngFor="let item of resumen" class="mb-3 border-bottom pb-3">
      <div class="div-search w-100">
        <div class="div-btn-icons justify-content-between" (click)="handleMostrarData(item.id)">
          <ng-container class="text-start" >
            <div *ngIf="!item.fecha_contacto"><contactarIcon [routerLink]="['/contacto/', item.id]" /> Informar</div>
            <div *ngIf="item.fecha_contacto"><gestionIcon  />  {{ item.id }}</div>
            <div> <calendarIcon /> {{item.fecha | anyToText | FormatoFechaCompleta}}</div>
            <div> <timeIcon class="text-info" /> {{item.hora}}</div>
            <div> <userFluentIcon  />  {{item.created_by}}</div>
          </ng-container>
        </div>

        <ul class="list-group" >
          <li class="list-group-item t-w-d d-flex justify-content-end align-items-center" *ngIf="item.fecha_contacto">
            <div *ngIf="item.informacion">
              Se informo:
              <span class="badge bg-light rounded-pill"  >
                {{item.informacion}}
              </span>
            </div>
            <div *ngIf="item.contacto">
              Contacto:
              <span class="badge bg-light rounded-pill" >
                {{item.contacto}}
              </span>
            </div>
            <div *ngIf="item.parentesco">
              Parentesco:
            <span class="badge bg-light rounded-pill" >
              {{item.parentesco |anyToNumber | enumParentesco}}
            </span>
            </div>
            <div *ngIf="item.telefono">
              Telefono:
            <span class="badge bg-light rounded-pill">
              {{item.telefono}}
            </span>
            </div>
            <div>
              Fecha y Hora de la Información:
            <span class="badge bg-light rounded-pill">
              {{item.fecha_contacto | anyToText | FormatoFechaCompleta}} {{item.hora_contacto}}
            </span>
            </div>
            <div>
               Quien informo:
            <span class="badge bg-light rounded-pill">
              {{item.update_by}}
            </span>
            </div>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-between align-items-center" *ngIf="item.estado || item.situacion || item.estadia || item.cama">
            <div *ngIf="item.estado">
              Estado:
              <span class="badge bg-light rounded-pill"  >
                {{item.estado |anyToNumber | enumEstado}}
              </span>
            </div>
            <div *ngIf="item.situacion">
              Situación:
              <span class="badge bg-light rounded-pill" >
                {{item.situacion |anyToNumber | enumSituacion}}
              </span>
            </div>
            <div *ngIf="item.estadia">
              Estadia:
            <span class="badge bg-light rounded-pill" >
              {{item.estadia |anyToNumber | enumEstadia}}
            </span>
            </div>
            <div *ngIf="item.cama">
              Cama:
            <span class="badge bg-light rounded-pill">
              {{item.cama}}
            </span>
            </div>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-between align-items-center" *ngIf="item.lugar_referencia || item.fecha_referencia">
            <div *ngIf="item.lugar_referencia" >
              Lugar de Referencia:
              <span class="badge bg-light rounded-pill">
                {{item.lugar_referencia |anyToNumber | enumReferencia}}
              </span>
            </div>
            <div *ngIf="item.fecha_referencia">
              Fecha de Referencia:
              <span class="badge bg-light rounded-pill">
                {{item.fecha_referencia | anyToText | formatoFecha}}
              </span>
            </div>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-between align-items-center" *ngIf="item.servicio || item.especialidad">
            <div *ngIf="item.servicio" >
              Servicio:
              <span class="badge bg-light rounded-pill">
                {{item.servicio |anyToNumber | enumServicios}}
              </span>
            </div>
            <div *ngIf="item.especialidad">
              Especialidad:
              <span class="badge bg-light rounded-pill">
                {{item.especialidad |anyToNumber | enumEspecialidad}}
              </span>
            </div>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-between align-items-center" *ngIf="item.evolucion || item.estudios || item.dxA || item.dxB || item.dxC || item.dxD || item.dxE">
            <div *ngIf="item.evolucion" >
              Evolución:
              <span class="badge bg-light rounded-pill">
                {{item.evolucion}}
              </span>
            </div>
            <div *ngIf="item.estudios">
              Estudios:
              <span class="badge bg-light rounded-pill">
                {{item.estudios}}
              </span>
            </div>
            <div *ngIf="item.dxA || item.dxB || item.dxC || item.dxD || item.dxE">
              Diagnóstico:
              <span class="badge bg-light rounded-pill" *ngIf="item.dxA">
                {{item.dxA}}
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.dxB">
                {{item.dxB}}
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.dxC">
                {{item.dxC}}
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.dxD">
                {{item.dxD}}
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.dxE">
                {{item.dxE}}
              </span>
            </div>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-start align-items-center" *ngIf="item.nota">
            Nota:
            <span class="badge bg-light rounded-pill">
              {{item.nota}}
            </span>
          </li>
          <li class="list-group-item t-w-d d-flex justify-content-start align-items-center" *ngIf="item.shampoo || item.toalla || item.peine || item.jabon || item.cepillo_dientes || item.pasta_dental || item.sandalias">
            <div>
              Articulos:
              <span class="badge bg-light rounded-pill" *ngIf="item.shampoo">
                Shampoo
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.toalla" >
                Toalla
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.peine">
                Peine
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.jabon">
                Jabón
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.cepillo_dientes">
               Cepillo de dientes
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.pasta_dental">
                Pasta dental
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.sandalias">
                Sandalias
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.agua">
                Agua
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.papel">
                Papel
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.panal_bebe">
                Pañales de bebe
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.panal_adulto">
                Pañales de adulto
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.toalla_humeda">
                Toalla humeda
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.ropa_interior">
                Ropa interior
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.babero">
                Babero
              </span>
              <span class="badge bg-light rounded-pill" *ngIf="item.otros">
                Otros especificados en notas
              </span>
            </div>
          </li>
        </ul>


      </div>



    </div>

    <!-- Paginación -->
    <div class="d-flex justify-content-center mt-3">
      <div class="btn-group">
        <button type="button" class="btn btn-outline-light" (click)="onPageChange(1)" [disabled]="paginaActual === 1">Primera</button>
        <button type="button" class="btn btn-outline-light" (click)="onPageChange(paginaActual - 1)" [disabled]="paginaActual === 1">Anterior</button>
        <button type="button" class="btn btn-outline-light" (click)="onPageChange(paginaActual + 1)" [disabled]="paginaActual === totalPaginas()">Siguiente</button>
        <button type="button" class="btn btn-outline-light" (click)="onPageChange(totalPaginas())" [disabled]="paginaActual === totalPaginas()">Última</button>
      </div>
    </div>
  </section>



</div>



<!-- Contenedor principal -->

