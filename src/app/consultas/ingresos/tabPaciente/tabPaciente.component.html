<div class="">
  <div class="console-table">
    <form class="d-flex justify-content-center align-items-center" autocomplete="off" >
      <input type="text" class="form-control bg-opacity-75 text-center" name="expediente" placeholder="Expediente"  [(ngModel)]="expedienteBuscar" />
      <input type="sumit" class="form-control  text-capitalize mx-1 text-center " placeholder="nombre" name="nombreBuscar"  [(ngModel)]="nombreBuscar">
      <input type="text" class="form-control   text-capitalize mx-1 text-center" placeholder="apellido" name="apellidoBuscar"  [(ngModel)]="apellidoBuscar">
      <input type="text" class="form-control  mx-1 text-center" placeholder="DPI" name="dpiBuscar"  [(ngModel)]="dpiBuscar">
      <button type="submit" class="btn btn-light mx-1 "  (click)="filtro()">buscar</button>
      <button type="submit" class="btn btn-light mx-1" (click)="limpiarInput()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16">
        <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2
         2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66
          11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
      </svg></button><button class="btn btn-info bg-dark mx-1 w-2" data-bs-toggle="modal" data-bs-target="#formularioModalP">Crear Paciente</button>
    </form>
  </div>

  <div class="mt-3">
    <div class="console-table">
      <!-- <table class="table table-dark table-borderless fs-5 " aria-labelledby="tableLabel" *ngIf="pacientes.length > 0"> -->
      <table class="table table-dark">
        <thead class="">
          <tr>

            <th class="text-center "></th>
            <th class="text-center "></th>
            <th class="text-center " >Exp</th>
            <th class="text-center " >Nombre</th>
            <th class="text-center " >DPI</th>
            <th class="text-center " >Sexo</th>
            <th class="text-center " >Edad</th>
            <th class="text-center " >Estado</th>
            <th class="text-center " >ID</th>
          </tr>
        </thead>

        <tbody class="justify-content-center  opacity-90">
          <tr *ngFor="let paciente of filteredPacientes">
            <td>
              <!-- <button class="btn btn-outline-dark" [routerLink]="['/detalleP/view', paciente.expediente]">ver</button> -->
            </td>
            <td>
              <button class="btn btn-dark btn-sm" (click)="copiarId(paciente.expediente, paciente.nombre, paciente.apellido, paciente.nacimiento)" data-bs-toggle="modal" data-bs-target="#formularioCrear" >
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-clipboard2-plus-fill" viewBox="0 0 16 16">
                  <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0
                  0-.5-.5.5.5 0 0 1-.5-.5Z"/>
                  <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5
                  1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5ZM8.5 6.5V8H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V9H6a.5.5 0 0 1 0-1h1.5V6.5a.5.5 0 0 1 1 0Z"/>
                </svg>
              </button>

            </td>
            <td class="h3 text-center text-success" [routerLink]="['/buscar/view/', paciente.id]">{{ paciente.expediente }}</td>
            <td class="text-text text-justify" appHighlightWords >
              <span class="font-fam">Nombre:</span> {{ paciente.nombre | capitalizeName }}<br>
              <span class="font-fam">Apellido:</span> {{ paciente.apellido | capitalizeName }}
            </td>
            <td class="text-center">{{ paciente.dpi | anyToText | formatoDPI }}</td>
            <td class="text-center">{{ paciente.sexo }}</td>
            <td class="text-center" #edadCell>{{ paciente.nacimiento | edad }}</td>
            <td class="text-center">{{ paciente.estado }}</td>
            <td class="small">{{ paciente.id }}</td>
          </tr>
        </tbody>
      </table>
    </div>



  <!-- Paginación -->
    <div class="d-flex justify-content-center pagination mt-3">
      <div class="btn-group" [class.disabled]="paginaActual === 1" *ngIf="totalPaginas()">
        <button type="button" class="btn btn-secondary" (click)="onPageChange(1)" aria-label="Primera">Primera</button>
        <button type="button" class="btn btn-secondary" (click)="onPageChange(paginaActual - 1)" aria-label="Anterior">Anterior</button>
        <button type="button" class="btn btn-secondary" (click)="onPageChange(paginaActual + 1)" aria-label="Siguiente">Siguiente</button>
        <button type="button" class="btn btn-secondary" (click)="onPageChange(totalPaginas())" aria-label="Última">Última</button>
      </div>
    </div>
  </div>
  </div>

  <div class="modal" id="formularioModalP">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"></span>
          </button>
        </div>
        <div class="modal-body">
       <crearModal></crearModal>
        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-primary">Save changes</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="formularioCrear">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Ingreso Hospitalario</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"></span>
          </button>
        </div>
        <div class="modal-body">
          <div>
            <form class="form-group">

              <div class="form-group">
                <label for="especialidad">Especialidad:</label>
                <select id="especialidad" class="form-control" [(ngModel)]="ingreso.especialidad" name="especialidad" >
                  <option *ngFor="let option of e.servicio" [value]="option.value">{{ option.label }}</option>
                </select>
              </div>


              <div class="form-group">
                <label for="especialidad">Servicio:</label>
                <select id="especialidad" class="form-control" [(ngModel)]="ingreso.servicio" name="servicios" >
                  <option *ngFor="let option of e.servicios" [value]="option.value">{{ option.label }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="expediente">Expediente:</label>
                <input type="text" class="form-control" id="expediente" name="expediente"  [(ngModel)]='ingreso.expediente'  >
              </div>

              <div class="form-group">
                <p>{{ingreso.nombres}} {{ingreso.apellidos}}</p>
                <p>{{ingreso.sexo}}</p>
                <p>{{ingreso.nacimiento | anyToText | formatoFecha}}</p>
              </div>







            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="registrarIngreso()"  >Save changes</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="limpiarInput()">Close</button>
        </div>
      </div>
    </div>
  </div>


  <div class="modal" id="formulario2">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
       <!--  -->
       <div class="form-group">
        <input type="text" class="form-control" id="nombre" name="nombre"  [(ngModel)]='ingreso.nombres' placeholder="nombres" disabled="">
        <input type="text" class="form-control" id="apellido" name="apellido" [(ngModel)]="ingreso.apellidos" placeholder="apellidos" disabled="">
        <input type="date" class="form-control" id="fecha_consulta" name="fecha_consulta" [(ngModel)]="ingreso.fecha_consulta" placeholder="fecha de consulta" disabled="">
        <input type="time" class="form-control" id="hora" name="hora" [(ngModel)]="ingreso.hora" placeholder="hora" disabled="">
        <input type="text" class="form.control" id="edad" name="edad" [(ngModel)]="ingreso.edad" placeholder="edad" value="paciente.nacimiento" disabled="">
        <input type="text" class="form-control" id="nacimiento" name="nacimiento" [(ngModel)]="ingreso.nacimiento" placeholder="fecha de nacimiento" disabled="">
      </div>


      </div>
    </div>
  </div>



